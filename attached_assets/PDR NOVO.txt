# PRD v2 ‚Äî CIP Shopee: Centro de Intelig√™ncia Pardal

## üìä Vis√£o Geral do Produto

O **CIP Shopee** √© um SaaS inteligente que integra dados da Shopee e aplica IA para otimizar produtos, campanhas e performance geral da loja. O sistema oferece sugest√µes t√°ticas, aplica√ß√£o direta de melhorias, diagn√≥sticos e planos de a√ß√£o com base em dados reais.

## üèõ Posicionamento

Plataforma central de intelig√™ncia operacional para lojistas da Shopee. Atua como um "co-piloto de vendas" com IA, aumentando convers√µes, organiza√ß√£o e diagn√≥sticos.

## üíº P√∫blico-Alvo

* Lojistas da Shopee (pequenos, m√©dios e grandes)
* Ag√™ncias que gerenciam lojas
* Profissionais de tr√°fego e gest√£o de marketplace

## üé° Funcionalidades Principais

### P√°gina Inicial (Landing Page)

* Headline direta com proposta de valor: "Otimize sua loja Shopee com IA em minutos"
* Demonstra√ß√£o visual do sistema em a√ß√£o (v√≠deo ou carrossel animado)
* Se√ß√£o com os principais benef√≠cios (Ex: mais convers√£o, menos trabalho manual)
* Depoimentos de lojistas ou resultados simulados (estilo antes/depois)
* Comparativo dos planos
* CTA destacado: ‚ÄúComece gr√°tis por 7 dias‚Äù
* Design responsivo e focado em convers√£o

### Dashboard Inteligente e Interativo

* Design avan√ßado, visual e responsivo, inspirado em refer√™ncias como Coupler.io, Behance e BootstrapDash
* Vis√£o geral da performance por loja conectada
* Cart√µes principais com m√©tricas: CTR m√©dio, convers√£o, vendas, nota CIP
* Gr√°ficos de tend√™ncia (√∫ltimos 7/30 dias) com Recharts ou Chart.js
* Lista de produtos com maior e menor performance com tags de destaque (verde/vermelho)
* Funil de vendas e visualiza√ß√µes anal√≠ticas
* An√°lise visual de campanhas (CTR, ROI, convers√£o)
* Alertas autom√°ticos: produtos em queda, an√∫ncios com baixo CTR, estoque baixo
* Acesso r√°pido para a√ß√µes t√°ticas: otimizar, diagnosticar, criar produto IA
* Painel com notifica√ß√µes centralizadas (novidades, atualiza√ß√µes, problemas detectados)
* Modo escuro e adapta√ß√£o PWA mobile opcional
* Vis√£o geral da performance por loja conectada
* Cart√µes principais com m√©tricas: CTR m√©dio, convers√£o, vendas, nota CIP
* Gr√°ficos de tend√™ncia (√∫ltimos 7/30 dias)
* Lista de produtos com maior e menor performance
* Alertas autom√°ticos (produtos em queda, an√∫ncios com baixo CTR)
* Acesso r√°pido para a√ß√µes: otimizar, diagnosticar, criar novo an√∫ncio
* Notifica√ß√µes centralizadas (novidades, atualiza√ß√µes, alertas t√©cnicos)

### Dashboard Inteligente e Interativo

* Vis√£o geral da performance por loja conectada
* Cart√µes principais com m√©tricas: CTR m√©dio, convers√£o, vendas, nota CIP
* Gr√°ficos de tend√™ncia (√∫ltimos 7/30 dias)
* Lista de produtos com maior e menor performance
* Alertas autom√°ticos (produtos em queda, an√∫ncios com baixo CTR)
* Acesso r√°pido para a√ß√µes: otimizar, diagnosticar, criar novo an√∫ncio
* Notifica√ß√µes centralizadas (novidades, atualiza√ß√µes, alertas t√©cnicos)

### 1. Autentica√ß√£o e Onboarding (Clerk)

* Cadastro/login com Clerk
* Integra√ß√£o com MongoDB (user sync)
* Prote√ß√£o JWT + middleware `withAuth`
* Registro de plano, status e progresso

### 2. Integra√ß√£o com Shopee (OAuth)

* Autentica√ß√£o do vendedor via OAuth 2.0
* Gera√ß√£o de assinatura HMAC-SHA256 para todas as requisi√ß√µes
* Armazenamento seguro de access\_token e refresh\_token com renova√ß√£o autom√°tica
* Sincroniza√ß√£o inicial de dados da loja:

  * Produtos (`/product/get_item_list`)
  * Detalhes da loja (`/shop/get_shop_info`)
  * M√©tricas de performance (`/shop/get_shop_performance_v2`)
  * Campanhas e an√∫ncios (endpoints de Ads)
* Atualiza√ß√µes peri√≥dicas via bot√£o e agendadas (cron job)
* Fallback inteligente para recupera√ß√£o em caso de erro de token
* Suporte a m√∫ltiplas lojas por usu√°rio com separa√ß√£o por `store_id`
* Planejamento para Webhooks da Shopee no futuro (eventos como novos pedidos ou altera√ß√µes de status). Central de Produtos
* Listagem de produtos conectados
* Detalhes e m√©tricas (CTR, views, vendas, pre√ßo, etc.)
* Hist√≥rico e varia√ß√£o de performance

### 4. Otimiza√ß√£o de Produtos com IA (GPT)

* Envio do produto para agente via API
* Recebimento de sugest√£o de t√≠tulo, descri√ß√£o e palavras-chave
* Exibi√ß√£o de Antes x Depois
* A√ß√µes: aplicar na Shopee / salvar / ignorar
* Registro no hist√≥rico do usu√°rio

### 5. Cria√ß√£o de Produtos com IA

* Formul√°rio assistido para novos produtos
* Sugest√£o de t√≠tulo, descri√ß√£o, categoria e imagens
* Recomenda√ß√£o de atributos e palavras-chave
* Valida√ß√£o com regras da Shopee
* Envio direto para a Shopee (se autorizado)
* Registro no hist√≥rico de cria√ß√µes IA

### 6. Diagn√≥stico da Loja

* Avalia√ß√£o geral da loja: nota CIP, pontos fortes/fracos
* Sugest√µes gerais de melhoria
* Benchmark com outras lojas do mesmo nicho

### 7. An√°lise de Campanhas (Ads)

* Importa campanhas via API
* Mede CTR, convers√£o, custo, ROAS
* IA sugere ajustes: palavra-chave, or√ßamento, pausa
* Exporta plano de melhoria

### 8. Plano de Acelera√ß√£o de 7 Dias

* A√ß√µes di√°rias t√°ticas para produtos
* Checklist interativo para o lojista
* Sugest√µes adaptadas √† performance real

### 9. Radar de Oportunidades

* Identifica campanhas e descontos ativos da Shopee
* IA sugere produtos ideais para entrar
* Exibe elegibilidade, prazo, impacto previsto

### 10. Pagamentos e Planos (Stripe)

* Checkout com Stripe (Starter, Pro, Enterprise)
* Webhooks para atualiza√ß√£o de status
* Controle de limites de uso com base em **n√∫mero de lojas conectadas**
* Cada loja tem acesso a todas as funcionalidades do plano correspondente
* Planos definidos por quantidade de lojas conectadas:

#### üü¢ Starter ‚Äî R\$39/m√™s

* At√© 1 loja conectada
* 5 otimiza√ß√µes IA/m√™s
* 1 diagn√≥stico de loja/m√™s
* Acesso parcial ao plano de 7 dias
* Sem cria√ß√£o de produtos IA
* Sem radar de oportunidades
* Suporte via e-mail
* Acesso ao trial de 7 dias

#### üîµ Pro ‚Äî R\$97/m√™s

* At√© 3 lojas conectadas
* Otimiza√ß√µes e diagn√≥sticos ilimitados
* 3 cria√ß√µes de produto IA/m√™s
* Acesso completo ao plano de 7 dias
* Acesso ao radar de oportunidades
* An√°lise b√°sica de campanhas
* Suporte priorit√°rio por e-mail

#### üü£ Enterprise ‚Äî R\$197/m√™s

* Lojas conectadas ilimitadas
* Otimiza√ß√µes, diagn√≥sticos e cria√ß√µes IA ilimitadas
* An√°lise avan√ßada de campanhas
* Relat√≥rios comparativos e benchmarking
* Integra√ß√£o com webhooks e automa√ß√µes
* Suporte VIP por WhatsApp e e-mail

#### üî∂ Add-ons para Starter:

* +5 otimiza√ß√µes IA: R\$19

* +5 cria√ß√µes de produto IA: R\$29

* Upgrade/Downgrade em 1 clique. Feedback & IA Aprendizado

* Avalia√ß√£o das sugest√µes da IA (estrela, thumbs)

* Armazena intera√ß√µes para melhoria dos prompts

* Relat√≥rio de impacto das a√ß√µes aplicadas

## ‚öñÔ∏è Estrutura T√©cnica

* Backend: Node.js + Express
* Frontend: React + Tailwind + Zustand
* DB: Prisma + MongoDB Atlas
* Cache: Upstash Redis (L2)
* IA: Agente GPT via Webhook com ID fixo
* Auth: Clerk (sess√µes seguras com JWT)
* Pagamento: Stripe
* DevOps: Replit + GitHub + GitHub Actions

## ‚ôªÔ∏è Fluxos IA (Webhook)

* Cada m√≥dulo usa um `agentId` fixo para comunica√ß√£o com IA
* Para evitar sobrecarga, o sistema usa **redund√¢ncia por fun√ß√£o**:

  * 2 agentes para otimiza√ß√£o de produtos e cria√ß√£o de produtos IA
  * 2 agentes para diagn√≥stico de loja e an√°lise de campanhas Shopee Ads
* O sistema alterna entre os agentes ativos com base na fila ou prioridade
* Caso um agente falhe ou atinja timeout, o segundo agente assume automaticamente
* Todos os envios e respostas s√£o logados na tabela `AIInteraction`
* O sistema pode escalar horizontalmente o n√∫mero de agentes se necess√°rio
* Exibe sugest√£o para o usu√°rio ap√≥s an√°lise

### üìà Capacidade Estimada

* Cada agente suporta at√© 30 requisi√ß√µes por minuto
* Com 4 agentes ativos, o sistema pode atender entre 60‚Äì120 usu√°rios simult√¢neos realizando a√ß√µes com IA
* Para uso real distribu√≠do (clientes espalhados ao longo do dia), a estrutura atual comporta entre **500 e 1.000 clientes ativos mensais com conforto**
* Monitoramento de fila, tempo de resposta e fallback ser√° aplicado para garantir estabilidade

## üìà KPIs Esperados (MVP)

* Convers√£o trial ‚Üí pago: 25%
* Crescimento MRR: 15%/m√™s
* Implementa√ß√£o de sugest√µes IA: 70%
* Tempo m√©dio para 1¬™ otimiza√ß√£o: < 5min

## üåê Roadmap Inicial

* Semana 1: Auth Clerk + Stripe Checkout + Conex√£o Shopee
* Semana 2: Produtos + Otimiza√ß√£o com IA + Diagn√≥stico
* Semana 3: Cria√ß√£o de Produto + Campanhas + Plano 7 Dias + Feedback IA
* Semana 4: Radar de Oportunidades + Refinamentos UI + Cache
