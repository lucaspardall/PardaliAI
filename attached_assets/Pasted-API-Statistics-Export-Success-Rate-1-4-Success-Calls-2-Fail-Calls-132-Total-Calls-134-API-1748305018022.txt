API Statistics
Export
Success Rate
1.4%
Success Calls
2
Fail Calls
132
Total Calls
134
API Name
Success Calls
Fail Calls
Total Calls
Success Rate
v2.public.auth_partner
0
130
130
0%
v2.public.get_access_token
2
2
4
50%

2025/05/26 20:48:04
Method:GET|Status:302|Path:/api/v2/shop/auth_partner
Request:{"partner_id":"2011285","redirect":"https://cipshopee.replit.app/api/shopee/callback","timestamp":"1748303283"}
Response:{"error":"status_code=302","message":"status_code=302"}

Editar

Diagnosed Shopee API integration issues and proposed solutions.

22 s





Analisando os documentos do seu projeto CIP Shopee, vejo que você está desenvolvendo um SaaS interessante para otimização de produtos na Shopee usando IA. Percebi que está enfrentando problemas com a integração da API da Shopee - a taxa de sucesso está em apenas 1.4%.

🔍 Análise do Problema Principal
O erro que está ocorrendo é um status 302 na autenticação OAuth, que é um redirecionamento. Isso geralmente indica que:

URL de Redirect incorreta: A URL https://cipshopee.replit.app/api/shopee/callback pode não estar configurada corretamente no painel de desenvolvedores da Shopee
Timestamp: O timestamp pode estar com diferença muito grande do servidor da Shopee
Assinatura da requisição: A Shopee requer uma assinatura específica nas requisições
🛠️ Sugestões de Correção
1. Verificar Configuração no Painel Shopee
javascript
// Certifique-se que estas URLs estão cadastradas:
- Redirect URL: https://cipshopee.replit.app/api/shopee/callback
- Webhook URL: https://cipshopee.replit.app/api/shopee/webhook
2. Corrigir o Timestamp
javascript
// Use timestamp Unix em segundos, não milissegundos
const timestamp = Math.floor(Date.now() / 1000);
3. Implementar Assinatura Correta
javascript
const crypto = require('crypto');

function generateSignature(params, partnerKey) {
  // Ordenar parâmetros alfabeticamente
  const sortedParams = Object.keys(params)
    .sort()
    .map(key => `${key}${params[key]}`)
    .join('');
  
  // Gerar assinatura
  const baseString = `${partnerKey}${sortedParams}${partnerKey}`;
  return crypto
    .createHash('sha256')
    .update(baseString)
    .digest('hex')
    .toUpperCase();
}